#/bin/bash

help() {
	echo "usage: $0 [help | mst | run | clean]"
}

mst() {
	echo javac *.java
	javac *.java
	echo rmic Communication
	rmic Communication
}

run() {
	echo "Setting up background service"
	pkill rmiregistry; pkill java; sleep 0.5
	rmiregistry & sleep 0.5
	java MST
	pkill rmiregistry; pkill java
}

clean() {
	echo /bin/rm -f *~ *.class
	/bin/rm -f *~ *.class
}

case $1 in
	run) run ;;
	mst) mst ;;
	clean) clean ;;
	help) help ;;
	"") mst ;;
	*) help ;;
esac

